---
import H4 from "./text/H4.astro"
import P from "./text/P.astro"
import Github from "../icons/Github.astro"
import { Image } from "astro:assets"
import type { ImageMetadata } from "astro"
import Goto from "../icons/Goto.astro"
import NewTabLink from "./NewTabLink.astro"

interface Props {
	title: string
	description: string
	tags: string[]
	github: string | null
	website: string | null
	image: ImageMetadata
}

const { title, description, tags, github, website, image } = Astro.props
---

<div class="bg-panel-background flex flex-col gap-4 rounded p-6 lg:hidden">
	<NewTabLink
		href={github || website || "#"}
		className="group relative -mx-6 -mt-6 mb-2 block overflow-hidden rounded-t"
		ariaLabel={`View ${title} project`}
	>
		<Image
			src={image}
			alt={title}
			class="w-full object-contain transition-transform duration-300"
			loading="lazy"
		/>
		<div
			class="bg-accent/40 absolute inset-0 transition-opacity duration-300 group-hover:opacity-0"
		>
		</div>
	</NewTabLink>

	<p class="text-accent text-sm font-light">Featured Project</p>

	<H4 className="group-hover:text-accent transition-colors duration-300">
		{title}
	</H4>

	<P className="text-subdued text-sm">
		{description}
	</P>

	<div class="flex flex-wrap gap-2">
		{
			tags.map((tag) => (
				<span class="text-muted text-sm font-light">{tag}</span>
			))
		}
	</div>

	<div class="flex gap-4">
		{
			github && (
				<NewTabLink
					href={github}
					className="text-muted hover:text-accent transition-colors duration-200"
					ariaLabel="View on GitHub"
				>
					<Github class="h-7 w-7" />
				</NewTabLink>
			)
		}
		{
			website && (
				<NewTabLink
					href={website}
					className="text-muted hover:text-accent transition-colors duration-200"
					ariaLabel="Visit website"
				>
					<Goto class="h-7 w-7" />
				</NewTabLink>
			)
		}
	</div>
</div>
